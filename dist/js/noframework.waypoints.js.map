{"version":3,"file":"noframework.waypoints.js","names":["keyCounter","allWaypoints","Waypoint","options","Error","element","handler","key","Adapter","extend","defaults","adapter","callback","axis","horizontal","enabled","triggerPoint","group","Group","findOrCreate","name","context","Context","findOrCreateByElement","offsetAliases","offset","add","prototype","queueTrigger","direction","trigger","args","apply","destroy","remove","disable","enable","refresh","next","previous","invokeAll","method","allWaypointsArray","waypointKey","push","i","end","length","destroyAll","disableAll","enableAll","refreshAll","viewportHeight","window","innerHeight","document","documentElement","clientHeight","viewportWidth","clientWidth","adapters","continuous","outerHeight","innerWidth","outerWidth","requestAnimationFrameShim","setTimeout","contexts","oldWindowLoad","onload","didScroll","didResize","oldScroll","x","scrollLeft","y","scrollTop","waypoints","vertical","waypointContextKey","windowContext","createThrottledScrollHandler","createThrottledResizeHandler","waypoint","checkEmpty","horizontalEmpty","isEmptyObject","verticalEmpty","isWindow","off","self","resizeHandler","handleResize","on","requestAnimationFrame","scrollHandler","handleScroll","isTouch","triggeredGroups","axes","newScroll","forward","backward","axisKey","isForward","wasBeforeTriggerPoint","nowAfterTriggerPoint","crossedForward","crossedBackward","id","groupKey","flushTriggers","contextOffset","undefined","left","contextScroll","contextDimension","offsetProp","top","adjustment","oldTriggerPoint","elementOffset","freshWaypoint","contextModifier","wasBeforeScroll","nowAfterScroll","triggeredBackward","triggeredForward","parseFloat","indexOf","Math","ceil","floor","findByElement","contextId","requestFn","mozRequestAnimationFrame","webkitRequestAnimationFrame","call","byTriggerPoint","a","b","byReverseTriggerPoint","groups","clearTriggerQueues","triggerQueues","up","down","right","reverse","sort","index","inArray","isLast","splice","first","last","getWindow","defaultView","NoFrameworkAdapter","handlers","isWin","event","removeListeners","listeners","listener","removeEventListener","eventParts","split","eventType","namespace","ns","type","ownerDocument","win","rect","getBoundingClientRect","pageYOffset","clientTop","pageXOffset","clientLeft","nsHandlers","nsTypeList","addEventListener","includeMargin","height","computedStyle","getComputedStyle","parseInt","marginTop","marginBottom","width","marginLeft","marginRight","Array","slice","arguments","merge","target","obj","hasOwnProperty","array"],"sources":["noframework.waypoints.js"],"sourcesContent":["/*!\nWaypoints - 4.0.1\nCopyright Â© 2011-2016 Caleb Troughton\nLicensed under the MIT license.\nhttps://github.com/imakewebthings/waypoints/blob/master/licenses.txt\n*/\n(function() {\n  'use strict'\n\n  var keyCounter = 0\n  var allWaypoints = {}\n\n  /* http://imakewebthings.com/waypoints/api/waypoint */\n  function Waypoint(options) {\n    if (!options) {\n      throw new Error('No options passed to Waypoint constructor')\n    }\n    if (!options.element) {\n      throw new Error('No element option passed to Waypoint constructor')\n    }\n    if (!options.handler) {\n      throw new Error('No handler option passed to Waypoint constructor')\n    }\n\n    this.key = 'waypoint-' + keyCounter\n    this.options = Waypoint.Adapter.extend({}, Waypoint.defaults, options)\n    this.element = this.options.element\n    this.adapter = new Waypoint.Adapter(this.element)\n    this.callback = options.handler\n    this.axis = this.options.horizontal ? 'horizontal' : 'vertical'\n    this.enabled = this.options.enabled\n    this.triggerPoint = null\n    this.group = Waypoint.Group.findOrCreate({\n      name: this.options.group,\n      axis: this.axis\n    })\n    this.context = Waypoint.Context.findOrCreateByElement(this.options.context)\n\n    if (Waypoint.offsetAliases[this.options.offset]) {\n      this.options.offset = Waypoint.offsetAliases[this.options.offset]\n    }\n    this.group.add(this)\n    this.context.add(this)\n    allWaypoints[this.key] = this\n    keyCounter += 1\n  }\n\n  /* Private */\n  Waypoint.prototype.queueTrigger = function(direction) {\n    this.group.queueTrigger(this, direction)\n  }\n\n  /* Private */\n  Waypoint.prototype.trigger = function(args) {\n    if (!this.enabled) {\n      return\n    }\n    if (this.callback) {\n      this.callback.apply(this, args)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy */\n  Waypoint.prototype.destroy = function() {\n    this.context.remove(this)\n    this.group.remove(this)\n    delete allWaypoints[this.key]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable */\n  Waypoint.prototype.disable = function() {\n    this.enabled = false\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable */\n  Waypoint.prototype.enable = function() {\n    this.context.refresh()\n    this.enabled = true\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/next */\n  Waypoint.prototype.next = function() {\n    return this.group.next(this)\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/previous */\n  Waypoint.prototype.previous = function() {\n    return this.group.previous(this)\n  }\n\n  /* Private */\n  Waypoint.invokeAll = function(method) {\n    var allWaypointsArray = []\n    for (var waypointKey in allWaypoints) {\n      allWaypointsArray.push(allWaypoints[waypointKey])\n    }\n    for (var i = 0, end = allWaypointsArray.length; i < end; i++) {\n      allWaypointsArray[i][method]()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/destroy-all */\n  Waypoint.destroyAll = function() {\n    Waypoint.invokeAll('destroy')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/disable-all */\n  Waypoint.disableAll = function() {\n    Waypoint.invokeAll('disable')\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/enable-all */\n  Waypoint.enableAll = function() {\n    Waypoint.Context.refreshAll()\n    for (var waypointKey in allWaypoints) {\n      allWaypoints[waypointKey].enabled = true\n    }\n    return this\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/refresh-all */\n  Waypoint.refreshAll = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-height */\n  Waypoint.viewportHeight = function() {\n    return window.innerHeight || document.documentElement.clientHeight\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/viewport-width */\n  Waypoint.viewportWidth = function() {\n    return document.documentElement.clientWidth\n  }\n\n  Waypoint.adapters = []\n\n  Waypoint.defaults = {\n    context: window,\n    continuous: true,\n    enabled: true,\n    group: 'default',\n    horizontal: false,\n    offset: 0\n  }\n\n  Waypoint.offsetAliases = {\n    'bottom-in-view': function() {\n      return this.context.innerHeight() - this.adapter.outerHeight()\n    },\n    'right-in-view': function() {\n      return this.context.innerWidth() - this.adapter.outerWidth()\n    }\n  }\n\n  window.Waypoint = Waypoint\n}())\n;(function() {\n  'use strict'\n\n  function requestAnimationFrameShim(callback) {\n    window.setTimeout(callback, 1000 / 60)\n  }\n\n  var keyCounter = 0\n  var contexts = {}\n  var Waypoint = window.Waypoint\n  var oldWindowLoad = window.onload\n\n  /* http://imakewebthings.com/waypoints/api/context */\n  function Context(element) {\n    this.element = element\n    this.Adapter = Waypoint.Adapter\n    this.adapter = new this.Adapter(element)\n    this.key = 'waypoint-context-' + keyCounter\n    this.didScroll = false\n    this.didResize = false\n    this.oldScroll = {\n      x: this.adapter.scrollLeft(),\n      y: this.adapter.scrollTop()\n    }\n    this.waypoints = {\n      vertical: {},\n      horizontal: {}\n    }\n\n    element.waypointContextKey = this.key\n    contexts[element.waypointContextKey] = this\n    keyCounter += 1\n    if (!Waypoint.windowContext) {\n      Waypoint.windowContext = true\n      Waypoint.windowContext = new Context(window)\n    }\n\n    this.createThrottledScrollHandler()\n    this.createThrottledResizeHandler()\n  }\n\n  /* Private */\n  Context.prototype.add = function(waypoint) {\n    var axis = waypoint.options.horizontal ? 'horizontal' : 'vertical'\n    this.waypoints[axis][waypoint.key] = waypoint\n    this.refresh()\n  }\n\n  /* Private */\n  Context.prototype.checkEmpty = function() {\n    var horizontalEmpty = this.Adapter.isEmptyObject(this.waypoints.horizontal)\n    var verticalEmpty = this.Adapter.isEmptyObject(this.waypoints.vertical)\n    var isWindow = this.element == this.element.window\n    if (horizontalEmpty && verticalEmpty && !isWindow) {\n      this.adapter.off('.waypoints')\n      delete contexts[this.key]\n    }\n  }\n\n  /* Private */\n  Context.prototype.createThrottledResizeHandler = function() {\n    var self = this\n\n    function resizeHandler() {\n      self.handleResize()\n      self.didResize = false\n    }\n\n    this.adapter.on('resize.waypoints', function() {\n      if (!self.didResize) {\n        self.didResize = true\n        Waypoint.requestAnimationFrame(resizeHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.createThrottledScrollHandler = function() {\n    var self = this\n    function scrollHandler() {\n      self.handleScroll()\n      self.didScroll = false\n    }\n\n    this.adapter.on('scroll.waypoints', function() {\n      if (!self.didScroll || Waypoint.isTouch) {\n        self.didScroll = true\n        Waypoint.requestAnimationFrame(scrollHandler)\n      }\n    })\n  }\n\n  /* Private */\n  Context.prototype.handleResize = function() {\n    Waypoint.Context.refreshAll()\n  }\n\n  /* Private */\n  Context.prototype.handleScroll = function() {\n    var triggeredGroups = {}\n    var axes = {\n      horizontal: {\n        newScroll: this.adapter.scrollLeft(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left'\n      },\n      vertical: {\n        newScroll: this.adapter.scrollTop(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      var isForward = axis.newScroll > axis.oldScroll\n      var direction = isForward ? axis.forward : axis.backward\n\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        if (waypoint.triggerPoint === null) {\n          continue\n        }\n        var wasBeforeTriggerPoint = axis.oldScroll < waypoint.triggerPoint\n        var nowAfterTriggerPoint = axis.newScroll >= waypoint.triggerPoint\n        var crossedForward = wasBeforeTriggerPoint && nowAfterTriggerPoint\n        var crossedBackward = !wasBeforeTriggerPoint && !nowAfterTriggerPoint\n        if (crossedForward || crossedBackward) {\n          waypoint.queueTrigger(direction)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    for (var groupKey in triggeredGroups) {\n      triggeredGroups[groupKey].flushTriggers()\n    }\n\n    this.oldScroll = {\n      x: axes.horizontal.newScroll,\n      y: axes.vertical.newScroll\n    }\n  }\n\n  /* Private */\n  Context.prototype.innerHeight = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportHeight()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerHeight()\n  }\n\n  /* Private */\n  Context.prototype.remove = function(waypoint) {\n    delete this.waypoints[waypoint.axis][waypoint.key]\n    this.checkEmpty()\n  }\n\n  /* Private */\n  Context.prototype.innerWidth = function() {\n    /*eslint-disable eqeqeq */\n    if (this.element == this.element.window) {\n      return Waypoint.viewportWidth()\n    }\n    /*eslint-enable eqeqeq */\n    return this.adapter.innerWidth()\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-destroy */\n  Context.prototype.destroy = function() {\n    var allWaypoints = []\n    for (var axis in this.waypoints) {\n      for (var waypointKey in this.waypoints[axis]) {\n        allWaypoints.push(this.waypoints[axis][waypointKey])\n      }\n    }\n    for (var i = 0, end = allWaypoints.length; i < end; i++) {\n      allWaypoints[i].destroy()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-refresh */\n  Context.prototype.refresh = function() {\n    /*eslint-disable eqeqeq */\n    var isWindow = this.element == this.element.window\n    /*eslint-enable eqeqeq */\n    var contextOffset = isWindow ? undefined : this.adapter.offset()\n    var triggeredGroups = {}\n    var axes\n\n    this.handleScroll()\n    axes = {\n      horizontal: {\n        contextOffset: isWindow ? 0 : contextOffset.left,\n        contextScroll: isWindow ? 0 : this.oldScroll.x,\n        contextDimension: this.innerWidth(),\n        oldScroll: this.oldScroll.x,\n        forward: 'right',\n        backward: 'left',\n        offsetProp: 'left'\n      },\n      vertical: {\n        contextOffset: isWindow ? 0 : contextOffset.top,\n        contextScroll: isWindow ? 0 : this.oldScroll.y,\n        contextDimension: this.innerHeight(),\n        oldScroll: this.oldScroll.y,\n        forward: 'down',\n        backward: 'up',\n        offsetProp: 'top'\n      }\n    }\n\n    for (var axisKey in axes) {\n      var axis = axes[axisKey]\n      for (var waypointKey in this.waypoints[axisKey]) {\n        var waypoint = this.waypoints[axisKey][waypointKey]\n        var adjustment = waypoint.options.offset\n        var oldTriggerPoint = waypoint.triggerPoint\n        var elementOffset = 0\n        var freshWaypoint = oldTriggerPoint == null\n        var contextModifier, wasBeforeScroll, nowAfterScroll\n        var triggeredBackward, triggeredForward\n\n        if (waypoint.element !== waypoint.element.window) {\n          elementOffset = waypoint.adapter.offset()[axis.offsetProp]\n        }\n\n        if (typeof adjustment === 'function') {\n          adjustment = adjustment.apply(waypoint)\n        }\n        else if (typeof adjustment === 'string') {\n          adjustment = parseFloat(adjustment)\n          if (waypoint.options.offset.indexOf('%') > - 1) {\n            adjustment = Math.ceil(axis.contextDimension * adjustment / 100)\n          }\n        }\n\n        contextModifier = axis.contextScroll - axis.contextOffset\n        waypoint.triggerPoint = Math.floor(elementOffset + contextModifier - adjustment)\n        wasBeforeScroll = oldTriggerPoint < axis.oldScroll\n        nowAfterScroll = waypoint.triggerPoint >= axis.oldScroll\n        triggeredBackward = wasBeforeScroll && nowAfterScroll\n        triggeredForward = !wasBeforeScroll && !nowAfterScroll\n\n        if (!freshWaypoint && triggeredBackward) {\n          waypoint.queueTrigger(axis.backward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (!freshWaypoint && triggeredForward) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n        else if (freshWaypoint && axis.oldScroll >= waypoint.triggerPoint) {\n          waypoint.queueTrigger(axis.forward)\n          triggeredGroups[waypoint.group.id] = waypoint.group\n        }\n      }\n    }\n\n    Waypoint.requestAnimationFrame(function() {\n      for (var groupKey in triggeredGroups) {\n        triggeredGroups[groupKey].flushTriggers()\n      }\n    })\n\n    return this\n  }\n\n  /* Private */\n  Context.findOrCreateByElement = function(element) {\n    return Context.findByElement(element) || new Context(element)\n  }\n\n  /* Private */\n  Context.refreshAll = function() {\n    for (var contextId in contexts) {\n      contexts[contextId].refresh()\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/context-find-by-element */\n  Context.findByElement = function(element) {\n    return contexts[element.waypointContextKey]\n  }\n\n  window.onload = function() {\n    if (oldWindowLoad) {\n      oldWindowLoad()\n    }\n    Context.refreshAll()\n  }\n\n\n  Waypoint.requestAnimationFrame = function(callback) {\n    var requestFn = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      requestAnimationFrameShim\n    requestFn.call(window, callback)\n  }\n  Waypoint.Context = Context\n}())\n;(function() {\n  'use strict'\n\n  function byTriggerPoint(a, b) {\n    return a.triggerPoint - b.triggerPoint\n  }\n\n  function byReverseTriggerPoint(a, b) {\n    return b.triggerPoint - a.triggerPoint\n  }\n\n  var groups = {\n    vertical: {},\n    horizontal: {}\n  }\n  var Waypoint = window.Waypoint\n\n  /* http://imakewebthings.com/waypoints/api/group */\n  function Group(options) {\n    this.name = options.name\n    this.axis = options.axis\n    this.id = this.name + '-' + this.axis\n    this.waypoints = []\n    this.clearTriggerQueues()\n    groups[this.axis][this.name] = this\n  }\n\n  /* Private */\n  Group.prototype.add = function(waypoint) {\n    this.waypoints.push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.clearTriggerQueues = function() {\n    this.triggerQueues = {\n      up: [],\n      down: [],\n      left: [],\n      right: []\n    }\n  }\n\n  /* Private */\n  Group.prototype.flushTriggers = function() {\n    for (var direction in this.triggerQueues) {\n      var waypoints = this.triggerQueues[direction]\n      var reverse = direction === 'up' || direction === 'left'\n      waypoints.sort(reverse ? byReverseTriggerPoint : byTriggerPoint)\n      for (var i = 0, end = waypoints.length; i < end; i += 1) {\n        var waypoint = waypoints[i]\n        if (waypoint.options.continuous || i === waypoints.length - 1) {\n          waypoint.trigger([direction])\n        }\n      }\n    }\n    this.clearTriggerQueues()\n  }\n\n  /* Private */\n  Group.prototype.next = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    var isLast = index === this.waypoints.length - 1\n    return isLast ? null : this.waypoints[index + 1]\n  }\n\n  /* Private */\n  Group.prototype.previous = function(waypoint) {\n    this.waypoints.sort(byTriggerPoint)\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    return index ? this.waypoints[index - 1] : null\n  }\n\n  /* Private */\n  Group.prototype.queueTrigger = function(waypoint, direction) {\n    this.triggerQueues[direction].push(waypoint)\n  }\n\n  /* Private */\n  Group.prototype.remove = function(waypoint) {\n    var index = Waypoint.Adapter.inArray(waypoint, this.waypoints)\n    if (index > -1) {\n      this.waypoints.splice(index, 1)\n    }\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/first */\n  Group.prototype.first = function() {\n    return this.waypoints[0]\n  }\n\n  /* Public */\n  /* http://imakewebthings.com/waypoints/api/last */\n  Group.prototype.last = function() {\n    return this.waypoints[this.waypoints.length - 1]\n  }\n\n  /* Private */\n  Group.findOrCreate = function(options) {\n    return groups[options.axis][options.name] || new Group(options)\n  }\n\n  Waypoint.Group = Group\n}())\n;(function() {\n  'use strict'\n\n  var Waypoint = window.Waypoint\n\n  function isWindow(element) {\n    return element === element.window\n  }\n\n  function getWindow(element) {\n    if (isWindow(element)) {\n      return element\n    }\n    return element.defaultView\n  }\n\n  function NoFrameworkAdapter(element) {\n    this.element = element\n    this.handlers = {}\n  }\n\n  NoFrameworkAdapter.prototype.innerHeight = function() {\n    var isWin = isWindow(this.element)\n    return isWin ? this.element.innerHeight : this.element.clientHeight\n  }\n\n  NoFrameworkAdapter.prototype.innerWidth = function() {\n    var isWin = isWindow(this.element)\n    return isWin ? this.element.innerWidth : this.element.clientWidth\n  }\n\n  NoFrameworkAdapter.prototype.off = function(event, handler) {\n    function removeListeners(element, listeners, handler) {\n      for (var i = 0, end = listeners.length - 1; i < end; i++) {\n        var listener = listeners[i]\n        if (!handler || handler === listener) {\n          element.removeEventListener(listener)\n        }\n      }\n    }\n\n    var eventParts = event.split('.')\n    var eventType = eventParts[0]\n    var namespace = eventParts[1]\n    var element = this.element\n\n    if (namespace && this.handlers[namespace] && eventType) {\n      removeListeners(element, this.handlers[namespace][eventType], handler)\n      this.handlers[namespace][eventType] = []\n    }\n    else if (eventType) {\n      for (var ns in this.handlers) {\n        removeListeners(element, this.handlers[ns][eventType] || [], handler)\n        this.handlers[ns][eventType] = []\n      }\n    }\n    else if (namespace && this.handlers[namespace]) {\n      for (var type in this.handlers[namespace]) {\n        removeListeners(element, this.handlers[namespace][type], handler)\n      }\n      this.handlers[namespace] = {}\n    }\n  }\n\n  /* Adapted from jQuery 1.x offset() */\n  NoFrameworkAdapter.prototype.offset = function() {\n    if (!this.element.ownerDocument) {\n      return null\n    }\n\n    var documentElement = this.element.ownerDocument.documentElement\n    var win = getWindow(this.element.ownerDocument)\n    var rect = {\n      top: 0,\n      left: 0\n    }\n\n    if (this.element.getBoundingClientRect) {\n      rect = this.element.getBoundingClientRect()\n    }\n\n    return {\n      top: rect.top + win.pageYOffset - documentElement.clientTop,\n      left: rect.left + win.pageXOffset - documentElement.clientLeft\n    }\n  }\n\n  NoFrameworkAdapter.prototype.on = function(event, handler) {\n    var eventParts = event.split('.')\n    var eventType = eventParts[0]\n    var namespace = eventParts[1] || '__default'\n    var nsHandlers = this.handlers[namespace] = this.handlers[namespace] || {}\n    var nsTypeList = nsHandlers[eventType] = nsHandlers[eventType] || []\n\n    nsTypeList.push(handler)\n    this.element.addEventListener(eventType, handler)\n  }\n\n  NoFrameworkAdapter.prototype.outerHeight = function(includeMargin) {\n    var height = this.innerHeight()\n    var computedStyle\n\n    if (includeMargin && !isWindow(this.element)) {\n      computedStyle = window.getComputedStyle(this.element)\n      height += parseInt(computedStyle.marginTop, 10)\n      height += parseInt(computedStyle.marginBottom, 10)\n    }\n\n    return height\n  }\n\n  NoFrameworkAdapter.prototype.outerWidth = function(includeMargin) {\n    var width = this.innerWidth()\n    var computedStyle\n\n    if (includeMargin && !isWindow(this.element)) {\n      computedStyle = window.getComputedStyle(this.element)\n      width += parseInt(computedStyle.marginLeft, 10)\n      width += parseInt(computedStyle.marginRight, 10)\n    }\n\n    return width\n  }\n\n  NoFrameworkAdapter.prototype.scrollLeft = function() {\n    var win = getWindow(this.element)\n    return win ? win.pageXOffset : this.element.scrollLeft\n  }\n\n  NoFrameworkAdapter.prototype.scrollTop = function() {\n    var win = getWindow(this.element)\n    return win ? win.pageYOffset : this.element.scrollTop\n  }\n\n  NoFrameworkAdapter.extend = function() {\n    var args = Array.prototype.slice.call(arguments)\n\n    function merge(target, obj) {\n      if (typeof target === 'object' && typeof obj === 'object') {\n        for (var key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            target[key] = obj[key]\n          }\n        }\n      }\n\n      return target\n    }\n\n    for (var i = 1, end = args.length; i < end; i++) {\n      merge(args[0], args[i])\n    }\n    return args[0]\n  }\n\n  NoFrameworkAdapter.inArray = function(element, array, i) {\n    return array == null ? -1 : array.indexOf(element, i)\n  }\n\n  NoFrameworkAdapter.isEmptyObject = function(obj) {\n    /* eslint no-unused-vars: 0 */\n    for (var name in obj) {\n      return false\n    }\n    return true\n  }\n\n  Waypoint.adapters.push({\n    name: 'noframework',\n    Adapter: NoFrameworkAdapter\n  })\n  Waypoint.Adapter = NoFrameworkAdapter\n}())\n;"],"mappings":"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"}